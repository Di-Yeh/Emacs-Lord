#+TITLE: æˆ‘çš„ Emacs é…ç½® ğŸŒ€
#+AUTHOR: ä½ çš„åå­—
#+OPTIONS: toc:t num:nil
#+STARTUP: showeverything inlineimages
#+PROPERTY: header-args :results silent

* ğŸ“¸ é¢„è§ˆ

#+ATTR_ORG: :width 800
[[https://github.com/user-attachments/assets/445e6c38-0d17-47b3-a490-2d4d5d8734cd][img1]]
[[https://github.com/user-attachments/assets/3140f8c6-a340-41ed-a637-96eccb6ca42a][img2]]
[[https://github.com/user-attachments/assets/7452c367-4b28-4e42-b739-d374e4709b3f][img3]]
[[https://github.com/user-attachments/assets/99d53400-447b-4ace-9a7a-86a1e82af67a][img4]]

* âœ’ï¸ å­—ä½“é…ç½®

**Windows**

å°† =fonts/= ç›®å½•ä¸‹çš„æ‰€æœ‰å­—ä½“ç§»åŠ¨åˆ°ï¼š

#+begin_example
C:\Windows\Fonts\
#+end_example

**Linux**

1. åˆ›å»ºå­—ä½“ç›®å½•ï¼š

   #+begin_src bash
   mkdir -p ~/.fonts
   #+end_src

2. å¤åˆ¶å­—ä½“ï¼š

   #+begin_src bash
   cp *.ttf ~/.fonts/
   #+end_src

3. æ›´æ–°å­—ä½“ç¼“å­˜ï¼š

   #+begin_src bash
   fc-cache -fv
   #+end_src

* ğŸ—ï¸ å®‰è£…

**Emacs ä¸‹è½½**

- Windows: [[https://ftp.gnu.org/gnu/emacs/windows/][ä¸‹è½½é“¾æ¥1]] ï½œ [[https://mirror.ossplanet.net/gnu/emacs/windows/][ä¸‹è½½é“¾æ¥2]]
- Linux:

  #+begin_src bash
  sudo apt install emacs
  #+end_src

**æ“ä½œç³»ç»Ÿ**

- [[#WindowsğŸªŸ][Windows å®‰è£…]]
- [[#LinuxğŸ§][Linux å®‰è£…]]

* ğŸªŸ Windows å®‰è£…æŒ‡å—

**é€šç”¨å¼€å‘ç¯å¢ƒ**

- [[https://git-scm.com/downloads/win][Git]]
- [[https://releases.llvm.org/download.html][Clang]]
- [[https://www.sbcl.org/platform-table.html][SBCL]]
- [[https://download.racket-lang.org/][Racket]]
- [[https://www.msys2.org/][MSYS2]] / [[https://sourceforge.net/projects/mingw/][Mingw]]
- [[https://cmake.org/download/][CMake]]
- [[https://www.python.org/downloads/][Python]]
- [[https://nodejs.org/zh-cn/download][NodeJS]]
- [[https://luabinaries.sourceforge.net/download.html][Lua]]
- [[https://www.masm32.com/download.htm][MASM]]

**Clojure å¼€å‘ç¯å¢ƒ**

- [[https://github.com/casselc/clj-msi][Clojure å®‰è£…åŒ…]]
- [[https://adoptium.net/zh-CN][OpenJDK]]
- [[https://github.com/clj-kondo/clj-kondo?tab=readme-ov-file#installation][clj-kondo]]

**EAF é…ç½®**

1. å…‹éš†é¡¹ç›®ï¼š

   #+begin_src bash
   git clone --depth=1 -b master https://github.com/emacs-eaf/emacs-application-framework.git site-lisp/emacs-application-framework
   #+end_src

2. å®‰è£… Python 3.12 ä¸ä¾èµ–ï¼š

   #+begin_src bash
   pip3 install PyQt6 pyqt6-webengine sexpdata epc fitz frontend
   #+end_src

3. å®‰è£…ï¼š

   #+begin_src bash
   chmod +x ./install-eaf.py
   ./install-eaf.py
   #+end_src

**lsp-bridge é…ç½®**

#+begin_src bash
pip3 install epc orjson sexpdata six paramiko watchdog pyright setuptools
#+end_src

**dirvish é…ç½®**

- [[https://github.com/sharkdp/fd/releases][fd ä¸‹è½½]]
- æˆ–ç”¨ Winget: `winget install sharkdp.fd`
- å®‰è£… VIPS thumbnail: `pacman -S mingw-w64-ucrt-x86_64-libvips`

**pandoc é…ç½®**

- [[https://github.com/jgm/pandoc/releases][pandoc ä¸‹è½½é“¾æ¥]]

å°†å¯æ‰§è¡Œæ–‡ä»¶æ”¾å…¥ç¯å¢ƒå˜é‡ç›®å½•

* ğŸ§ Linux å®‰è£…æŒ‡å—

é€‚ç”¨äº Debian / Mint / Ubuntu / Kali

**ç¯å¢ƒè®¾ç½®**

#+begin_src bash
sudo apt install git clang clang++ clang-format gcc g++ sbcl racket cmake
#+end_src

**å®‰è£… racket-langserver**

#+begin_src bash
raco pkg install racket-langserver
#+end_src

**Python å®‰è£…ï¼ˆæ¨èä½¿ç”¨ pyenvï¼‰**

1. å®‰è£…ä¾èµ–ï¼š

   #+begin_src bash
   sudo apt update
   sudo apt install -y make build-essential libssl-dev zlib1g-dev \
   libbz2-dev libreadline-dev libsqlite3-dev curl git libncursesw5-dev \
   xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev
   #+end_src

2. å®‰è£… pyenvï¼š

   #+begin_src bash
   curl https://pyenv.run | bash
   #+end_src

3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå†™å…¥ ~/.bashrc æˆ– ~/.zshrcï¼‰ï¼š

   #+begin_src shell
   export PYENV_ROOT="$HOME/.pyenv"
   export PATH="$PYENV_ROOT/bin:$PATH"
   eval "$(pyenv init -)"
   #+end_src

4. å®‰è£…å¹¶è®¾ç½®ç‰ˆæœ¬ï¼š

   #+begin_src bash
   pyenv install 3.11.9
   pyenv global 3.11.9
   #+end_src

**NodeJS ä¸ Lua**

#+begin_src bash
sudo apt install nodejs npm lua[version]
#+end_src

**æ±‡ç¼–å·¥å…· & ç»ˆç«¯åº“**

#+begin_src bash
sudo apt install nasm libvterm-dev cmake make gcc
#+end_src

**Clojure å®‰è£…**

#+begin_src bash
sudo apt install openjdk-17-jdk clojure leiningen
#+end_src

å®‰è£… clj-kondoï¼š

#+begin_src bash
curl -sLO https://raw.githubusercontent.com/clj-kondo/clj-kondo/master/script/install-clj-kondo
chmod +x install-clj-kondo
./install-clj-kondo
#+end_src

**EAF å®‰è£…**

å‚è€ƒ [[*EAF é…ç½®][EAF é…ç½®]]

**lsp-bridge å®‰è£…**

#+begin_src bash
pip install epc orjson sexpdata six paramiko watchdog pyright setuptools
#+end_src

**dirvish æ”¯æ´å·¥å…·**

#+begin_src bash
sudo apt install fd-find libvips-tools ffmpegthumbnailer imagemagick poppler-utils
#+end_src

**pandoc å®‰è£…**

å‚è§ [[https://github.com/jgm/pandoc/releases][å®˜æ–¹ä¸‹è½½é¡µ]]

* ğŸ“ é™„å½•

- å¦‚æœä½ åœ¨ Windows ä½¿ç”¨ Emacsï¼Œè¯·ä½¿ç”¨ `msys2` æä¾›çš„ç¯å¢ƒè¿è¡Œ CLI ç¨‹åºæ›´ä¸ºç¨³å®šã€‚
- å¦‚æœä½ æ˜¯ Lisp/Clojure çˆ±å¥½è€…ï¼Œå¯ä»¥æ­é… `paredit`ã€`lispyville`ã€`lsp-mode` ä¸ `corfu` å¼ºåŒ–å¼€å‘ä½“éªŒã€‚
